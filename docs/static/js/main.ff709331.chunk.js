(this["webpackJsonpfsm-tools"]=this["webpackJsonpfsm-tools"]||[]).push([[0],{108:function(e,t){},109:function(e,t){},164:function(e,t){},316:function(e,t,s){"use strict";s.r(t);var i=s(0),n=s.n(i),c=s(35),a=s.n(c),r=(s(157),s(326)),h=s(327),j=s(27),l=s(7),b=s(322),o=s(323),d=s(324),x=s(325),p=s(328),O=s(148),u=s(74),f=s.n(u),m=s(99);const g={STATES:/:states:\s*((\w+\s*)+)/,INITIAL:/:initial:\s*(\w+)\s*/,ACCEPTING:/:accept:\s*((\w+\s*)+)/,ALPHABET:/:alphabet:\s*((\w\s*)+)/,TRANSITIONS:/:transitions:\n((\w+\s*,\s*\w+\s*>\s*\w+\n?)*)/};class w extends m.Graph{constructor(e){super({...e,multigraph:!0}),this.initial=void 0,this.alphabet=new Set,this.accepted=new Set,this.setGraph({rankdir:"LR"})}static parse(e){return"string"===typeof e?this.build(v(e)):this.build(e)}isAccepted(e){const t=this.testInput(e);return void 0!==t&&this.accepted.has(t)}setInitial(e){return this.initial=e,this}setAccepted(e,t){return this.accepted.add(e),this.setNode(e,t)}setSymbol(e,t){return this.alphabet.add(e),this}setTransition(e,t,s){const i=this.edge(e,t);return i?i.symbols.includes(s)?this:this.setEdge(e,t,{label:`${i.label},${s}`,symbols:[...i.symbols,s]}):this.setEdge(e,t,{label:s,symbols:[s]})}transitions(){return this.edges()}transition(e){return this.edge(e)}hash(){return btoa(this.minimize().description())}description(){if(0===this.nodes().length)return"";let e="";return e+=`:states:\n${this.nodes().join("\n")}\n`,e+=`:initial:\n${this.initial}\n`,this.accepted.size>0&&(e+=`:accept:\n${[...this.accepted].join("\n")}\n`),this.alphabet.size>0&&(e+=`:alphabet:\n${[...this.alphabet].join("\n")}\n`),this.transitions().length>0&&(e+=`:transitions:\n${this.transitions().map(e=>({v:e.v,w:e.w,symbols:this.edge(e).symbols})).flatMap(e=>e.symbols.map(t=>`${e.v}, ${t} > ${e.w}`)).join("\n")}\n`),e}minimize(){const e=this.reachable(),t=this.setIntersect(this.accepted,e),s=this.setIntersect(this.setDiff(new Set(this.nodes()),t),e);let i=[t,s],n=[t,s];for(;n.length>0;){const e=n.pop();for(const t of this.alphabet){const s=new Set;for(const i of this.transitions()){if(this.edge(i).symbols.includes(t))for(const t of e)i.w===t&&s.add(i.v)}i=i.flatMap(e=>{const t=this.setDiff(e,s),i=this.setIntersect(s,e);return t.size>0&&i.size>0?(n.includes(e)?(n.splice(n.indexOf(e),1),n.push(i,t)):n.push(i.size<=t.size?i:t),[i,t]):e})}}const c=i.filter(e=>e.size>0),a=new Map,r=new w({multigraph:!0});return c.forEach(e=>{const t=[...e].join("");e.forEach(e=>a.set(e,t))}),c.forEach(e=>{const t=[...e][0];r.setNode(a.get(t)),this.accepted.has(t)&&r.setAccepted(a.get(t),{peripheries:2}),this.outEdges(t).forEach(e=>{this.edge(e).symbols.forEach(s=>{r.setTransition(a.get(t),a.get(e.w),s)})})}),r.setInitial(a.get(this.initial)),[...this.alphabet].forEach(e=>r.setSymbol(e,{})),r}testInput(e){let t=this.initial;for(const s of e){if(!this.alphabet.has(s))return;const e=this.outEdges(t);let i=!1;if(e)for(const n of e){if(this.edge(n).symbols.includes(s)){t=n.w,i=!0;break}}if(!i)return t}return t}static build(e){const t=new w,{states:s,initial:i,accept:n,alphabet:c,transitions:a}=e;if(!s)return t;if(!i)throw new Error("Cannot parse StateMachine with no initial state!");if(!s.includes(i))throw new Error("Initial state set to a state that does not exist!");if(n&&n.length>0&&n.some(e=>!s.includes(e)))throw new Error("Accepted states includes a state that does not exist!");if(a&&a.length>0){if(!c||0===c.length)throw new Error("Cannot specify transitions with an empty alphabet!");if(a.some(e=>!c.includes(e[1])))throw new Error("Transition includes a symbol which is not defined in the alphabet!");if(a.some(e=>!s.includes(e[0])||!s.includes(e[2])))throw new Error("Transition includes a state which is not defined in states!")}return(c||[]).forEach(e=>t.setSymbol(e,{})),s.forEach(e=>t.setNode(e)),t.setInitial(i),(n||[]).forEach(e=>t.setAccepted(e,{peripheries:2})),(a||[]).forEach(e=>t.setTransition(e[0],e[2],e[1])),t}reachable(){const e=this.initial,t=[e],s=new Set([e]);for(;t.length>0;){const e=t.pop();for(const i of this.transitions())e===i.v&&(s.has(i.w)||(s.add(i.w),t.includes(i.w)||t.push(i.w)))}return s}setDiff(e,t){return new Set([...e].filter(e=>!t.has(e)))}setIntersect(e,t){return new Set([...e].filter(e=>t.has(e)))}}const v=e=>({initial:T(e),states:S(e),accept:y(e),alphabet:I(e),transitions:E(e)}),S=e=>{const t=g.STATES.exec(e);return t&&t[1]?t[1].split(/\s+/).map(e=>e.trim()).filter(e=>""!==e):null},T=e=>{const t=g.INITIAL.exec(e);return t&&t[1]?t[1]:null},y=e=>{const t=g.ACCEPTING.exec(e);return t&&t[1]?t[1].split(/\s+/).map(e=>e.trim()).filter(e=>""!==e):[]},I=e=>{const t=g.ALPHABET.exec(e);return t&&t[1]?t[1].split(/\s*/).map(e=>e.trim()).filter(e=>""!==e):[]},E=e=>{const t=g.TRANSITIONS.exec(e);return t?[...t[1].matchAll(/(\w+)\s*,\s*(\w+)\s*>\s*(\w+)/g)].map(e=>[e[1],e[2],e[3]]):[]};var A=s(1);const z=e=>{let{minimize:t,description:s,input:n,...c}=e;const[a,r]=Object(i.useState)(""),[h,j]=Object(i.useState)(null);return Object(i.useEffect)(()=>{try{const e=w.parse(s),i=t?e.minimize():e;if(null!==n){const e=i.testInput(n||"");if(e){const t=i.node(e);i.setNode(e,{...t,fillcolor:"#f54f4c",style:"filled"})}}const c=t?f.a.write(e.minimize()):f.a.write(e);f.a.read(c),j(c),r("")}catch(e){r(`${e.name}: ${e.message}`),j(null)}return()=>{j(null)}},[s,t,n]),h?Object(A.jsx)(O.a,{dot:h,...c}):Object(A.jsx)("div",{children:a})};z.defaultProps={minimize:!1,input:null};const N=()=>{const[e,t]=Object(i.useState)(":states:\na\nb\n:initial:\na\n:accept:\nb\na\n:alphabet:\n0\n1\n:transitions:\na, 0 > b\na, 1 > b\nb, 0 > b\nb, 1 > a"),[s,n]=Object(i.useState)(""),[c,a]=Object(i.useState)(""),[r,h]=Object(i.useState)("");return Object(i.useEffect)(()=>{try{const t=w.parse(e),s=t.minimize();n(s.description()),a(t.hash()),h(s.hash())}catch{n({})}},[e]),Object(A.jsxs)(b.a,{children:[Object(A.jsx)("h1",{children:"DFA Minimizer"}),Object(A.jsxs)(o.a,{children:[Object(A.jsx)(d.a,{children:Object(A.jsxs)(b.a,{children:[Object(A.jsxs)(o.a,{children:[Object(A.jsx)("h2",{children:"Input Description"}),Object(A.jsxs)(x.a,{style:{height:"375px"},children:[Object(A.jsx)(x.a.Prepend,{children:Object(A.jsx)(x.a.Text,{children:"Input"})}),Object(A.jsx)(p.a,{value:e,as:"textarea","aria-label":"input",onChange:e=>t(e.target.value)})]})]}),Object(A.jsx)("br",{}),Object(A.jsx)(o.a,{children:Object(A.jsxs)(x.a,{style:{height:"90px",width:"100%"},children:[Object(A.jsx)(x.a.Prepend,{children:Object(A.jsx)(x.a.Text,{children:"Hash"})}),Object(A.jsx)(p.a,{disabled:!0,as:"textarea","aria-label":"input",value:c})]})}),Object(A.jsx)("br",{}),Object(A.jsxs)(o.a,{children:[Object(A.jsx)("h2",{children:"Input Machine"}),Object(A.jsx)(z,{description:e,options:{height:200}})]})]})}),Object(A.jsx)(d.a,{children:Object(A.jsxs)(b.a,{children:[Object(A.jsxs)(o.a,{children:[Object(A.jsx)("h2",{children:"Minimized Description"}),Object(A.jsxs)(x.a,{style:{height:"375px"},children:[Object(A.jsx)(x.a.Prepend,{children:Object(A.jsx)(x.a.Text,{children:"Input"})}),Object(A.jsx)(p.a,{disabled:!0,as:"textarea",value:s})]})]}),Object(A.jsx)("br",{}),Object(A.jsx)(o.a,{children:Object(A.jsxs)(x.a,{style:{height:"90px"},children:[Object(A.jsx)(x.a.Prepend,{children:Object(A.jsx)(x.a.Text,{children:"Hash"})}),Object(A.jsx)(p.a,{disabled:!0,as:"textarea","aria-label":"input",value:r})]})}),Object(A.jsx)("br",{}),Object(A.jsxs)(o.a,{children:[Object(A.jsx)("h2",{children:"Output Machine"}),Object(A.jsx)(z,{description:e,minimize:!0,options:{height:200}})]})]})})]})]})},M=()=>{const[e,t]=Object(i.useState)(C),[s,n]=Object(i.useState)(""),[c,a]=Object(i.useState)(!1),[r,h]=Object(i.useState)("");return Object(i.useEffect)(()=>{try{const t=w.parse(e);a(t.isAccepted(s)),h(t.hash())}catch{a(!1)}},[e,s]),Object(A.jsxs)(b.a,{children:[Object(A.jsx)("h1",{children:"DFA Simulator"}),Object(A.jsxs)(o.a,{children:[Object(A.jsxs)(d.a,{children:[Object(A.jsx)("h2",{children:"Input Description"}),Object(A.jsxs)(x.a,{style:{height:"375px"},children:[Object(A.jsx)(x.a.Prepend,{children:Object(A.jsx)(x.a.Text,{children:"Input"})}),Object(A.jsx)(p.a,{as:"textarea","aria-label":"input",value:e,onChange:e=>t(e.target.value)})]}),Object(A.jsx)("br",{}),Object(A.jsxs)(x.a,{style:{height:"90px"},children:[Object(A.jsx)(x.a.Prepend,{children:Object(A.jsx)(x.a.Text,{children:"Hash"})}),Object(A.jsx)(p.a,{disabled:!0,as:"textarea","aria-label":"input",value:r})]})]}),Object(A.jsxs)(d.a,{children:[Object(A.jsx)("h2",{children:"Simulate Input"}),Object(A.jsxs)(x.a,{children:[Object(A.jsx)(x.a.Prepend,{children:Object(A.jsx)(x.a.Text,{children:"Input"})}),Object(A.jsx)(p.a,{"aria-label":"input",onChange:e=>n(e.target.value)})]}),Object(A.jsx)("br",{}),Object(A.jsxs)("h4",{children:["Input is ",c?"ACCEPTED":"NOT ACCEPTED","."]}),Object(A.jsx)(z,{description:e,input:s,options:{height:200}})]})]})]})},C=":states:\na\nb\nc\nd\n:initial:\na\n:accept:\nc\n:alphabet:\n0\n1\n:transitions:\na,0>b\na,1>a\nb,0>d\nb,1>c\nc,0>c\nc,1>b\nd,0>d\nd,1>c",P=()=>Object(A.jsxs)(b.a,{children:[Object(A.jsx)("h1",{children:"FSM Tools"}),Object(A.jsxs)("div",{children:[Object(A.jsxs)("div",{children:[Object(A.jsx)("h2",{children:"Simulator"}),Object(A.jsxs)("p",{children:["Simulate a deterministic finite state machine by visiting the ",Object(A.jsx)(j.b,{to:"/simulator",children:"simulator"}),"."]}),Object(A.jsx)("h2",{children:"Minimizer"}),Object(A.jsxs)("p",{children:["Minimize a deterministic finite state machine by visiting the ",Object(A.jsx)(j.b,{to:"/minimizer",children:"minimizer"}),"."]})]}),Object(A.jsx)("h2",{children:"Syntax"}),Object(A.jsx)("p",{children:"There is a specific syntax for defining machine descriptions."}),Object(A.jsx)("h4",{children:"Sections"}),Object(A.jsx)("p",{children:"Machine descriptions can contain five sections: states, initial, accept, alphabet, and transitions."}),Object(A.jsxs)("div",{children:[Object(A.jsx)("h5",{children:"States"}),Object(A.jsx)("p",{children:"The states section is defined as the following:"}),Object(A.jsxs)("code",{children:[":states:",Object(A.jsx)("br",{}),"(alphanumeric string)",Object(A.jsx)("br",{}),"(alphanumeric string)",Object(A.jsx)("br",{}),"..."]}),Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),Object(A.jsx)("p",{children:"As an example:"}),Object(A.jsxs)("code",{children:[":states:",Object(A.jsx)("br",{}),"a",Object(A.jsx)("br",{}),"b",Object(A.jsx)("br",{})]})]}),Object(A.jsx)("br",{}),Object(A.jsxs)("div",{children:[Object(A.jsx)("h5",{children:"Initial"}),Object(A.jsx)("p",{children:"The initial section is defined as an alphanumeric string which is defined in the states section."}),Object(A.jsx)("p",{children:"In the case of the example above:"}),Object(A.jsxs)("code",{children:[":initial:",Object(A.jsx)("br",{}),"a"]})]}),Object(A.jsx)("br",{}),Object(A.jsxs)("div",{children:[Object(A.jsx)("h5",{children:"Accept"}),Object(A.jsx)("p",{children:"The accept section is defined equivalent to the states section, and it must only contain a subset of strings found within the states section."}),Object(A.jsx)("p",{children:"In the case of the example above:"}),Object(A.jsxs)("code",{children:[":accept:",Object(A.jsx)("br",{}),"b"]})]}),Object(A.jsx)("br",{}),Object(A.jsxs)("div",{children:[Object(A.jsx)("h5",{children:"Alphabet"}),Object(A.jsx)("p",{children:"The alphabet section is also defined as states, but is a different set of strings which defines the available transition symbols."}),Object(A.jsx)("p",{children:"As an example:"}),Object(A.jsxs)("code",{children:[":alphabet:",Object(A.jsx)("br",{}),"0",Object(A.jsx)("br",{}),"1"]})]}),Object(A.jsx)("br",{}),Object(A.jsxs)("div",{children:[Object(A.jsx)("h5",{children:"Transitions"}),Object(A.jsx)("p",{children:"The transitions section is defined as a list of transitions of the form:"}),Object(A.jsxs)("code",{children:[":transitions:",Object(A.jsx)("br",{}),"state, symbol ",">"," state"]}),Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),Object(A.jsx)("p",{children:"As an example:"}),Object(A.jsxs)("code",{children:[":transitions:",Object(A.jsx)("br",{}),"a, 0 ",">"," b",Object(A.jsx)("br",{}),"a, 1  ",">"," b",Object(A.jsx)("br",{}),"b, 0 ",">"," b",Object(A.jsx)("br",{}),"b, 1 ",">"," a"]})]})]})]});var $=function(){return Object(A.jsxs)(j.a,{basename:"/",children:[Object(A.jsx)("header",{children:Object(A.jsxs)(r.a,{className:"mx-auto",style:{maxWidth:"1150px"},collapseOnSelect:!0,expand:"lg",variant:"light",children:[Object(A.jsx)(r.a.Brand,{as:j.b,to:"/",children:"FSM Tools"}),Object(A.jsx)(r.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(A.jsx)(r.a.Collapse,{id:"responsive-navbar-nav",children:Object(A.jsxs)(h.a,{className:"mr-auto",children:[Object(A.jsx)(h.a.Link,{className:"text-secondary",as:j.c,to:"/simulator",children:"Simulator"}),Object(A.jsx)(h.a.Link,{className:"text-secondary",as:j.c,to:"/minimizer",children:"Minimizer"})]})})]})}),Object(A.jsx)("main",{children:Object(A.jsxs)(l.c,{children:[Object(A.jsx)(l.a,{path:"/",exact:!0,children:Object(A.jsx)(P,{})}),Object(A.jsx)(l.a,{path:"/simulator",children:Object(A.jsx)(M,{})}),Object(A.jsx)(l.a,{path:"/minimizer",children:Object(A.jsx)(N,{})})]})})]})};a.a.render(Object(A.jsx)(n.a.StrictMode,{children:Object(A.jsx)($,{})}),document.getElementById("root"))}},[[316,1,2]]]);
//# sourceMappingURL=main.ff709331.chunk.js.map